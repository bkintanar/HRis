<div v-if="custom_field_sections && custom_field_values" v-for="custom_field_section in custom_field_sections"
     class="row">
    <div class="col-lg-12">
        <div class="ibox float-e-margins">
            <div class="ibox-title">
                <h5>{{ custom_field_section.name }}</h5>

                <div class="ibox-tools">
                    <a class="collapse-link">
                        <i class="fa fa-chevron-up"></i>
                    </a>
                </div>
            </div>
            <div class="ibox-content">
                <form class="form-horizontal" onsubmit="return false;">
                    <input type="hidden" v-model.sync="custom_field_section.id">

                    <div class="form-group" v-for="custom_field in custom_field_section.fields">
                        <custom-field-text v-if="custom_field[0] && custom_field[0].custom_field_type_id == 1"
                                           :custom_field="custom_field[0]"
                                           :custom_field_values="custom_field_values"></custom-field-text>
                        <custom-field-text v-if="custom_field[1] && custom_field[1].custom_field_type_id == 1"
                                           :custom_field="custom_field[1]"
                                           :custom_field_values="custom_field_values"></custom-field-text>
                        <custom-field-drop-down v-if="custom_field[0] && custom_field[0].custom_field_type_id == 2"
                                                :custom_field="custom_field[0]"
                                                :custom_field_values="custom_field_values"
                                                :custom_field_value_objs="custom_field_value_objs"></custom-field-drop-down>
                        <custom-field-drop-down v-if="custom_field[1] && custom_field[1].custom_field_type_id == 2"
                                                :custom_field="custom_field[1]"
                                                :custom_field_values="custom_field_values"
                                                :custom_field_value_objs="custom_field_value_objs"></custom-field-drop-down>
                    </div>

                    <div class="hr-line-dashed"></div>
                    <div class="form-group save-form" style="display:none;">
                        <div class="col-sm-4 col-sm-offset-2">
                            <button class="btn btn-white btn-xs cancel-form" type="button" @click.prevent="cancelForm">
                                Cancel
                            </button>
                            <button class="btn btn-primary btn-xs" type="submit" @click="submitForm">Save changes
                            </button>

                        </div>
                    </div>
                    <div class="form-group" v-if="has_access && has_access[permission + '.update']">
                        <div class="col-sm-4 col-sm-offset-2">
                            <button class="btn btn-primary btn-xs modify-form" type="button"
                                    @click.prevent="modifyForm">Modify
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
